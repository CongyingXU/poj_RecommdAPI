From 65d85789601176597088e8cb75c747fee3432b12 Mon Sep 17 00:00:00 2001
From: Jurriaan Mous <jurmous@jurmo.us>
Date: Fri, 10 Jun 2016 17:57:42 +0200
Subject: [PATCH] HBASE-16004 Update to Netty 4.1.1

---
 .../src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java     | 4 ++--
 pom.xml                                                               | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java b/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java
index c1ed748..723a234 100644
--- a/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java
+++ b/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java
@@ -347,13 +347,13 @@ public class AsyncRpcClient extends AbstractRpcClient {
     }
     // do not close global EventLoopGroup.
     if (!useGlobalEventLoopGroup) {
-      bootstrap.group().shutdownGracefully();
+      bootstrap.config().group().shutdownGracefully();
     }
   }
 
   @Override
   public EventLoop getEventExecutor() {
-    return this.bootstrap.group().next();
+    return this.bootstrap.config().group().next();
   }
 
   /**
diff --git a/pom.xml b/pom.xml
index 0e33ae8..93b7a0e 100644
--- a/pom.xml
+++ b/pom.xml
@@ -1254,7 +1254,7 @@
     <clover.version>4.0.3</clover.version>
     <jamon-runtime.version>2.4.1</jamon-runtime.version>
     <jettison.version>1.3.3</jettison.version>
-    <netty.version>4.0.30.Final</netty.version>
+    <netty.version>4.1.1.Final</netty.version>
     <netty.hadoop.version>3.6.2.Final</netty.hadoop.version>
     <joni.version>2.1.2</joni.version>
     <jcodings.version>1.0.8</jcodings.version>
-- 
2.5.0

