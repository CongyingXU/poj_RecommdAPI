From bdc05b27b78f1c4b74dd031cfd7b06837a2778f2 Mon Sep 17 00:00:00 2001
From: Josh Elser <elserj@apache.org>
Date: Tue, 25 Jul 2017 11:56:03 -0400
Subject: [PATCH] HBASE-18023 Update row threshold warning from 1k to 5k
 (addendum)

---
 hbase-common/src/main/resources/hbase-default.xml                       | 2 +-
 .../main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/hbase-common/src/main/resources/hbase-default.xml b/hbase-common/src/main/resources/hbase-default.xml
index c4148a11e0..87a36c1bcf 100644
--- a/hbase-common/src/main/resources/hbase-default.xml
+++ b/hbase-common/src/main/resources/hbase-default.xml
@@ -1770,7 +1770,7 @@ possible configurations would overwhelm and obscure the important.
    </property>
    <property>
     <name>hbase.rpc.rows.warning.threshold</name>
-    <value>1000</value>
+    <value>5000</value>
     <description>
       Number of rows in a batch operation above which a warning will be logged.
     </description>
diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java
index d84c5e23f9..e881882ab3 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java
@@ -258,7 +258,7 @@ public class RSRpcServices implements HBaseRPCErrorHandler,
   /**
    * Default value of {@link RSRpcServices#BATCH_ROWS_THRESHOLD_NAME}
    */
-  static final int BATCH_ROWS_THRESHOLD_DEFAULT = 1000;
+  static final int BATCH_ROWS_THRESHOLD_DEFAULT = 5000;
 
   // Request counter. (Includes requests that are not serviced by regions.)
   final LongAdder requestCount = new LongAdder();
-- 
2.13.3

