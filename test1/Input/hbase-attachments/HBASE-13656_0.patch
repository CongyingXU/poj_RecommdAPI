From 0cc82738f2e4779d05cdbdebb1759c478a95b1ba Mon Sep 17 00:00:00 2001
From: Lars Francke <lars.francke@gmail.com>
Date: Sun, 10 May 2015 22:22:40 +0200
Subject: [PATCH] Initial commit

Replace JIRA
---
 .../main/java/org/apache/hadoop/hbase/ClusterStatus.java   | 14 +++++++++++++-
 hbase-shell/src/main/ruby/hbase/admin.rb                   |  2 +-
 2 files changed, 14 insertions(+), 2 deletions(-)

diff --git a/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java b/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java
index edfaa6f..4b73dda 100644
--- a/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java
+++ b/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java
@@ -124,11 +124,23 @@ public class ClusterStatus extends VersionedWritable {
 
   /**
    * @return the number of dead region servers in the cluster
+   * @deprecated As of release 2.0.0, this will be removed in HBase 3.0.0
+   *             (<a href="https://issues.apache.org/jira/browse/HBASE-13656">HBASE-13656</a>).
+   *             Use {@link #getDeadServersSize()}.
    */
+  @Deprecated
   public int getDeadServers() {
+    return getDeadServersSize();
+  }
+
+  /**
+   * @return the number of dead region servers in the cluster
+   */
+  public int getDeadServersSize() {
     return deadServers != null ? deadServers.size() : 0;
   }
 
+
   /**
    * @return the average cluster load
    */
@@ -313,7 +325,7 @@ public class ClusterStatus extends VersionedWritable {
       }
     }
 
-    int deadServerSize = getDeadServers();
+    int deadServerSize = getDeadServersSize();
     sb.append("\nNumber of dead region servers: " + deadServerSize);
     if (deadServerSize > 0) {
       for (ServerName serverName: deadServers) {
diff --git a/hbase-shell/src/main/ruby/hbase/admin.rb b/hbase-shell/src/main/ruby/hbase/admin.rb
index e10e2be..9cdfe66 100644
--- a/hbase-shell/src/main/ruby/hbase/admin.rb
+++ b/hbase-shell/src/main/ruby/hbase/admin.rb
@@ -647,7 +647,7 @@ module Hbase
             puts("            %s" % [ region.toString() ])
           end
         end
-        puts("%d dead servers" % [ status.getDeadServers() ])
+        puts("%d dead servers" % [ status.getDeadServersSize() ])
         for server in status.getDeadServerNames()
           puts("    %s" % [ server ])
         end
-- 
2.3.1

