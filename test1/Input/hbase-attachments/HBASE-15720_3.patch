From bf13941592ab0c947ce76cf4c353696414fc1067 Mon Sep 17 00:00:00 2001
From: chenheng <chenheng@apache.org>
Date: Tue, 3 May 2016 09:18:28 +1000
Subject: [PATCH] HBASE-15720 Print row locks at the debug dump page; addendum

---
 .../main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java
index 0c69bd9..56d0417 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java
@@ -105,7 +105,7 @@ public class RSDumpServlet extends StateDumpServlet {
 
   public static void dumpRowLock(HRegionServer hrs, PrintWriter out) {
     StringBuilder sb = new StringBuilder();
-    for (Region region : hrs.getOnlineRegions()) {
+    for (Region region : hrs.getOnlineRegionsLocalContext()) {
       HRegion hRegion = (HRegion)region;
       if (hRegion.getLockedRows().size() > 0) {
         for (HRegion.RowLockContext rowLockContext : hRegion.getLockedRows().values()) {
-- 
2.5.4 (Apple Git-61)

