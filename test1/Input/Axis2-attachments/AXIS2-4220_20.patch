Index: src/org/apache/axis2/mtompolicy/MTOMPolicy.java
===================================================================
--- src/org/apache/axis2/mtompolicy/MTOMPolicy.java	(revision 703931)
+++ src/org/apache/axis2/mtompolicy/MTOMPolicy.java	(working copy)
@@ -5,21 +5,27 @@
 import org.apache.axis2.context.ConfigurationContext;
 import org.apache.axis2.description.AxisDescription;
 import org.apache.axis2.description.AxisModule;
+import org.apache.axis2.description.Parameter;
 import org.apache.axis2.modules.Module;
+import org.apache.axis2.policy.builders.MTOM10AssertionBuilder;
 import org.apache.axis2.policy.model.MTOMAssertion;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
 import org.apache.neethi.Assertion;
 import org.apache.neethi.Policy;
 
 public class MTOMPolicy implements Module{
 
+	public static final Log log = LogFactory.getLog(MTOMPolicy.class);
+	
     public void applyPolicy(Policy policy, AxisDescription axisDescription)
             throws AxisFault {
         // TODO Auto-generated method stub
-        
+        log.info("MTOMPolicy.applyPolicy()");        
     }
 
     public boolean canSupportAssertion(Assertion assertion) {
-        
+    	log.info("MTOMPolicy.canSupportAssertion(Assertion assertion)");
         if (assertion instanceof MTOMAssertion) {
             return true;
         }
@@ -28,7 +34,7 @@
     }
 
     public void engageNotify(AxisDescription axisDescription) throws AxisFault {
-        
+    	log.info("MTOMPolicy.engageNotify(AxisDescription axisDescription)");
         boolean isOptional = false;
             
         MTOMAssertion mtomAssertion = Utils.getMTOMAssertion(axisDescription);
@@ -37,25 +43,26 @@
             return;
         }
         
+        isOptional = mtomAssertion.isOptional();        
+        
         if ( isOptional) {
-            axisDescription.addParameter("enableMTOM", Constants.VALUE_OPTIONAL);
+            axisDescription.addParameter(Constants.Configuration.ENABLE_MTOM, Constants.VALUE_OPTIONAL);            
         } else {
-            axisDescription.addParameter("enableMTOM", Constants.VALUE_TRUE);
+            axisDescription.addParameter(Constants.Configuration.ENABLE_MTOM, Constants.VALUE_TRUE);
         }
-                
-                          
+                               
     }
 
     public void init(ConfigurationContext configContext, AxisModule module)
             throws AxisFault {
         // nothing to do here yet
-        
+    	log.info("MTOMPolicy.init(ConfigurationContext configContext, AxisModule module)");
     }
 
     public void shutdown(ConfigurationContext configurationContext)
             throws AxisFault {
         // nothing to do here yet
-        
+    	log.info("MTOMPolicy.shutdown(ConfigurationContext configurationContext)");
     }
 
 }
