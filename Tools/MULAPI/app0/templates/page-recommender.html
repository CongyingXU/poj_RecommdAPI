<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Basic -->
    <meta charset="UTF-8"/>

    <title>Own | REPERSP</title>

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

    <!-- Import google fonts -->
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'>

    <!-- Favicon and touch icons -->
    <link rel="shortcut icon" href="static/ico/favicon.ico" type="image/x-icon"/>
    <link rel="apple-touch-icon" href="static/ico/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="57x57" href="static/ico/apple-touch-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="static/ico/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="static/ico/apple-touch-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="static/ico/apple-touch-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="static/ico/apple-touch-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="static/ico/apple-touch-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="static/ico/apple-touch-icon-152x152.png"/>

    <!-- start: CSS file-->

    <!-- Vendor CSS-->
    <link href="static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="static/vendor/skycons/css/skycons.css" rel="stylesheet"/>
    <link href="static/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="static/vendor/css/pace.preloader.css" rel="stylesheet"/>

    <!-- Plugins CSS-->
    <link href="static/plugins/bootkit/css/bootkit.css" rel="stylesheet"/>

    <!-- Theme CSS -->
    <link href="static/css/jquery.mmenu.css" rel="stylesheet"/>

    <!-- Page CSS -->
    <link href="static/css/style.css" rel="stylesheet"/>
    <link href="static/css/add-ons.min.css" rel="stylesheet"/>

    <!-- end: CSS file-->


    <!-- Head Libs -->
    <script src="static/plugins/modernizr/js/modernizr.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>

<!-- Start: Header -->
<div class="navbar" role="navigation">
    <div class="container-fluid container-nav">
        <!-- Navbar Action -->
        <ul class="nav navbar-nav navbar-actions navbar-left">
            <li class="visible-md visible-lg"><a href="#" id="main-menu-toggle"><i class="fa fa-th-large"></i></a></li>
            <li class="visible-xs visible-sm"><a href="#" id="sidebar-menu"><i class="fa fa-navicon"></i></a></li>
        </ul>
        <!-- Navbar Left -->
        <div class="navbar-left">
            <!-- Search Form -->
            <form class="search navbar-form">
                <div class="input-group input-search">
                    <input type="text" class="form-control bk-radius" name="q" id="q" placeholder="Search...">
                    <span class="input-group-btn">
								<button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
							</span>
                </div>
            </form>
        </div>
        <!-- Navbar Right -->
        <div class="navbar-right">
            <!-- Notifications -->
            <ul class="notifications hidden-xs">
                <li>
                    <a href="#" class="dropdown-toggle notification-icon" data-toggle="dropdown">
                        <i class="fa fa-tasks"></i>
                        <!-- <span class="badge">10</span> -->
                    </a>
                    <!-- <ul class="dropdown-menu update-menu" role="menu"> -->
                    <!-- <li><a href="#"><i class="fa fa-database bk-fg-primary"></i> Database </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-bar-chart-o bk-fg-primary"></i> Connection </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-bell bk-fg-primary"></i> Notification </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-envelope bk-fg-primary"></i> Message </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-flash bk-fg-primary"></i> Traffic </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-credit-card bk-fg-primary"></i> Invoices </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-dollar bk-fg-primary"></i> Finances </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-thumbs-o-up bk-fg-primary"></i> Orders </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-folder bk-fg-primary"></i> Directories </a></li> -->
                    <!-- <li><a href="#"><i class="fa fa-users bk-fg-primary"></i> Users </a></li> -->
                    <!-- </ul> -->
                </li>
                <li>
                    <a href="#" class="dropdown-toggle notification-icon" data-toggle="dropdown">
                        <i class="fa fa-envelope"></i>
                        <!-- <span class="badge">5</span> -->
                    </a>
                    <!-- <ul class="dropdown-menu"> -->
                    <!-- <li class="dropdown-menu-header"> -->
                    <!-- <strong>Messages</strong> -->
                    <!-- <div class="progress progress-xs  progress-striped active"> -->
                    <!-- <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"> -->
                    <!-- 60% -->
                    <!-- </div> -->
                    <!-- </div> -->
                    <!-- </li> -->
                    <!-- <li class="avatar"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <img class="avatar" src="static/img/avatar1.jpg" alt="" /> -->
                    <!-- <div><div class="point point-primary point-lg"></div>New message</div> -->
                    <!-- <span><small>1 minute ago</small></span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="avatar"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <img class="avatar" src="static/img/avatar2.jpg" alt="" /> -->
                    <!-- <div><div class="point point-primary point-lg"></div>New message</div> -->
                    <!-- <span><small>3 minute ago</small></span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="avatar"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <img class="avatar" src="static/img/avatar3.jpg" alt="" /> -->
                    <!-- <div><div class="point point-primary point-lg"></div>New message</div> -->
                    <!-- <span><small>4 minute ago</small></span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="avatar"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <img class="avatar" src="static/img/avatar4.jpg" alt="" /> -->
                    <!-- <div><div class="point point-primary point-lg"></div>New message</div> -->
                    <!-- <span><small>30 minute ago</small></span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="avatar"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <img class="avatar" src="static/img/avatar5.jpg" alt="" /> -->
                    <!-- <div><div class="point point-primary point-lg"></div>New message</div> -->
                    <!-- <span><small>1 hours ago</small></span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="dropdown-menu-footer text-center"> -->
                    <!-- <a href="page-inbox.html">View all messages</a> -->
                    <!-- </li> -->
                    <!-- </ul> -->
                </li>
                <li>
                    <a href="#" class="dropdown-toggle notification-icon" data-toggle="dropdown">
                        <i class="fa fa-bell"></i>
                        <!-- <span class="badge">3</span> -->
                    </a>
                    <!-- <ul class="dropdown-menu list-group"> -->
                    <!-- <li class="dropdown-menu-header"> -->
                    <!-- <strong>Notifications</strong> -->
                    <!-- <div class="progress progress-xs  progress-striped active"> -->
                    <!-- <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"> -->
                    <!-- 60% -->
                    <!-- </div> -->
                    <!-- </div> -->
                    <!-- </li> -->
                    <!-- <li class="list-item"> -->
                    <!-- <a href="page-inbox.html"> -->
                    <!-- <div class="pull-left"> -->
                    <!-- <i class="fa fa-envelope-o bk-fg-primary"></i> -->
                    <!-- </div> -->
                    <!-- <div class="media-body clearfix"> -->
                    <!-- <div>Unread Message</div> -->
                    <!-- <h6>You have 10 unread message</h6> -->
                    <!-- </div> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="list-item"> -->
                    <!-- <a href="#"> -->
                    <!-- <div class="pull-left"> -->
                    <!-- <i class="fa fa-cogs bk-fg-primary"></i> -->
                    <!-- </div> -->
                    <!-- <div class="media-body clearfix"> -->
                    <!-- <div>New Settings</div> -->
                    <!-- <h6>There are new settings available</h6> -->
                    <!-- </div> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="list-item"> -->
                    <!-- <a href="#"> -->
                    <!-- <div class="pull-left"> -->
                    <!-- <i class="fa fa-fire bk-fg-primary"></i> -->
                    <!-- </div> -->
                    <!-- <div class="media-body clearfix"> -->
                    <!-- <div>Update</div> -->
                    <!-- <h6>There are new updates available</h6> -->
                    <!-- </div> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- <li class="list-item-last"> -->
                    <!-- <a href="#"> -->
                    <!-- <h6>Unread notifications</h6> -->
                    <!-- <span class="badge">15</span> -->
                    <!-- </a> -->
                    <!-- </li> -->
                    <!-- </ul> -->
                </li>
            </ul>
            <!-- End Notifications -->
            <!-- Userbox -->
            <div class="userbox">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <figure class="profile-picture hidden-xs">
                        <img src="static/img/avatar.jpg" class="img-circle" alt=""/>
                    </figure>
                    <div class="profile-info">
                        <span class="name">{{ username }}</span>
                        <span class="role"><i class="fa fa-circle bk-fg-success"></i> {{ role }}</span>
                    </div>
                    <i class="fa custom-caret"></i>
                </a>
                <div class="dropdown-menu">
                    <ul class="list-unstyled">
                        <li class="dropdown-menu-header bk-bg-white bk-margin-top-15">
                            <div class="progress progress-xs  progress-striped active">
                                <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="60"
                                     aria-valuemin="0" aria-valuemax="100" style="width: {{ repo_progress }}%;">
                                    {{ repo_progress}}%
                                </div>
                            </div>
                        </li>
                        <li>
                            <a href="page-profile.html"><i class="fa fa-user"></i> Profile</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-wrench"></i> Settings</a>
                        </li>
                        <li>
                            <a href="page-invoice"><i class="fa fa-usd"></i> Payments</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-file"></i> File</a>
                        </li>
                        <li>
                            <a href="/logout"><i class="fa fa-power-off"></i> Logout</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- End Userbox -->
        </div>
        <!-- End Navbar Right -->
    </div>
</div>
<!-- End: Header -->

<!-- Start: Content -->
<div class="container-fluid content">
    <div class="row">

        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-collapse">
                <!-- Sidebar Header Logo-->
                <div class="sidebar-header">
                    <img src="static/img/logo.png" class="img-responsive" alt=""/>
                </div>
                <!-- Sidebar Menu-->
                <div class="sidebar-menu">
                    <nav id="menu" class="nav-main" role="navigation">
                        <ul class="nav nav-sidebar">
                            <div class="panel-body text-center">
                                <div class="flag">
                                    <img src="static/img/flags/USA.png" class="img-flags" alt=""/>
                                </div>
                            </div>
                            <li>
                                <a href="dashboard">
                                    <i class="fa fa-dashboard" aria-hidden="true"></i><span>Dashboard</span>
                                </a>
                            </li>
                            <li>
                                <a href="profile">
                                    <!-- <span class="pull-right label label-danger">235</span> -->
                                    <i class="fa fa-info" aria-hidden="true"></i><span>Profile</span>
                                </a>
                            </li>
                            <li class="nav-parent nav-expanded active">
                                <a>
                                    <i class="fa fa-puzzle-piece" aria-hidden="true"></i><span>Tools</span>
                                </a>
                                <ul class="nav nav-children">
                                    <li><a href="recommender"><span class="text" style="color:#fff"> Recommender</span></a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
                <!-- End Sidebar Menu-->
            </div>
            <!-- Sidebar Footer-->
            <div class="sidebar-footer">
                <!-- <div class="small-chart-visits"> -->
                <!-- <div class="small-chart" id="sparklineLineVisits"></div> -->
                <!-- <div class="small-chart-info"> -->
                <!-- <label>New Visits</label> -->
                <!-- <strong>70,79%</strong> -->
                <!-- </div> -->
                <!-- <script type="text/javascript"> -->
                <!-- var sparklineLineVisitsData = [15, 16, 17, 19, 15, 25, 23, 35, 29, 15, 30, 45]; -->
                <!-- </script> -->
                <!-- </div> -->
                <ul class="sidebar-terms bk-margin-top-10">
                    <li><a href="/#">Home</a></li>
                    <li><a href="/#">About</a></li>
                    <li><a href="/#">Services</a></li>
                    <li><a href="mailto:x565178035@126.com">Contact</a></li>
                </ul>
            </div>
            <!-- End Sidebar Footer-->
        </div>
        <!-- End Sidebar -->

        <!-- Main Page -->
        <div class="main ">
            <!-- Page Header -->
            <div class="page-header">
                <div class="pull-left">
                    <ol class="breadcrumb visible-sm visible-md visible-lg">
                        <li><a href="/"><i class="icon fa fa-home"></i>Home</a></li>
                        <li><a href="#"><i class="fa fa-puzzle-piece"></i>Tools</a></li>
                        <li class="active"><a href="#"><i class="fa fa-rocket"></i>Recommender</a></li>
                    </ol>
                </div>
                <div class="pull-right">
                    <h2>RECOMMENDER</h2>
                </div>
            </div>
            <!-- End Page Header -->
            <div class="row mailbox">
                <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                    <div class="panel">
                        <div class="panel-body bk-bg-very-light-gray mailbox-menu">
                            {% if request.user.progress >= 1 and  request.user.progress < 3 %}
                                <button class="btn btn-primary btn-block" disabled="disabled">
                                    Syncing {{ request.user.now_num }}/{{ request.user.total_num }}
                                </button>
                                <button class="btn btn-warning btn-block" onclick="cancel()">Cancel</button>
                            {% else %}
                                <button class="btn btn-primary btn-block" onclick="sync()">Sync</button>
                            {% endif %}
                            <ul>
                                <li>
                                    <a href="/recommender?action=own fork watch stared like">All</a>
                                </li>
                                <li>
                                    <a href="/recommender?action=own">Own</a>
                                </li>
                                <li>
                                    <a href="/recommender?action=fork">Fork</a>
                                </li>
                                <li>
                                    <a href="/recommender?action=watch">Watch</a>
                                </li>
                                <li>
                                    <a href="/recommender?action=star">Star</a>
                                </li>
                                <li>
                                    <a href="/recommender?action=like">Like</a>
                                </li>
                                <h5 class="bk-fg-primary">Recommendations</h5>
                                <li>
                                    <a href="/recommender?action=top3">Top 3 </a>
                                </li>
                                <li>
                                    <a href="/recommender?action=top5">Top 5 </a>
                                </li>
                                <li>
                                    <a href="/recommender?action=top10">Top 10 </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-body bk-bg-very-light-gray mailbox-chat">
                            <h5 class="bk-fg-primary">Sync State</h5>
                            <ul>
                                <li><span class="ball {{ state.0 }}"></span> Repo Info</li>
                                <li><span class="ball {{ state.1 }}"></span> Repo Content</li>
                                <li><span class="ball {{ state.2 }}"></span> Relations</li>
                                <li><span class="ball {{ state.3 }}"></span> Recommendations</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-8 col-sm-8 col-xs-12">
{#                    <div class="panel bk-bg-white">#}
{#                        <div class="panel-body mailbox-btn-action">#}
{#                            <div class="col-sm-8 col-xs-12 bk-padding-5">#}
{#										<span class="item-action-group">#}
{#											<a class="item-action fa fa-chevron-down dropdown-toggle"#}
{#                                               data-toggle="dropdown" href="#"></a>#}
{#											<ul class="dropdown-menu" role="menu">#}
{#												<li><a href="#">All</a></li>#}
{#												<li><a href="#">None</a></li>#}
{#												<li><a href="#">Read</a></li>#}
{#												<li><a href="#">Unread</a></li>#}
{#												<li><a href="#">Starred</a></li>#}
{#												<li><a href="#">Unstarred</a></li>#}
{#											</ul>#}
{#										</span>#}
{#                                <span class="item-action-group">#}
{#											<a class="item-action fa fa-star" href="#"></a>#}
{#											<a class="item-action fa fa-bookmark-o" href="#"></a>#}
{#											<a class="item-action fa fa-tags" href="#"></a>#}
{#										</span>#}
{#                                <span class="item-action-group">#}
{#											<a class="item-action fa fa-archive" href="#"></a>#}
{#											<a class="item-action fa fa-trash-o" href="#"></a>#}
{#										</span>#}
{#                                <span class="item-action-group">#}
{#											<a class="item-action fa fa-refresh" href="#"></a>#}
{#										</span>#}
{#                            </div>#}
{#                            <div class="col-sm-4 col-xs-12">#}
{#                                <div class="search bk-padding-5">#}
{#                                    <div class="input-group input-search">#}
{#                                        <input type="text" class="form-control" name="q" id="q"#}
{#                                               placeholder="Search..."/>#}
{#                                        <span class="input-group-btn">#}
{#													<button class="btn btn-default" type="submit"><i#}
{#                                                            class="fa fa-search"></i></button>#}
{#												</span>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
                    <div class="panel bk-bg-white">
                        <div class="panel-body">
                            <div class="col-md-12">
                                <div class="btn-group bk-margin-bottom-10 bk-margin-top-10 pull-right">
                                    <button class="btn btn-sm btn-default">{{ num }} results</button>
                                    <button class="btn btn-sm btn-default"><span class="fa fa-chevron-left"></span>
                                    </button>
                                    <button class="btn btn-sm btn-default"><span class="fa fa-chevron-right"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="col-md-12">
                                <ul class="messages-list">
                                    {% for e in repos %}
                                        <li class="unread">
                                            <a href="{{ e.href }}">
                                                <!-- <div class"col-md-10"> -->
                                                <div class="header">
                                                    <span class="from">{{ e.name }}</span>
                                                    <span class="date">{{ e.lang }}</span>
                                                </div>
                                                <div class="title">
                                                    <span class="action"><i class="fa {{ e.icon }}"></i></span>
                                                    {{ e.owner }}
                                                </div>
                                                <div class="description">
                                                    {{ e.desc }}
                                                </div>
                                                <!-- </div> -->
                                                <!-- <div class="col-md-2"> -->
                                                <!-- </div> -->
                                            </a>
                                            {% if e.rec %}
                                                <p align="right">
                                                    <button class="bk-margin-5 btn btn-labeled btn-success"
                                                            type="button" onclick="like( '{{ e.name }}' )">
                                                        <span class="btn-label"><i class="fa fa-thumbs-up"></i></span>Like
                                                    </button>
                                                    <button class="bk-margin-5 btn btn-labeled btn-danger" type="button"
                                                            onclick="dislike( '{{ e.name }}' )">
                                                        <span class="btn-label"><i class="btn-xs fa fa-thumbs-down"></i></span>Dislike
                                                    </button>
                                                </p>
                                            {% endif %}
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Main Page -->

    </div>
</div><!--/container-->


<div class="clearfix"></div>


<!-- start: JavaScript-->

<!-- Vendor JS-->
<script src="static/vendor/js/jquery.min.js"></script>
<script src="static/vendor/js/jquery-2.1.1.min.js"></script>
<script src="static/vendor/js/jquery-migrate-1.2.1.min.js"></script>
<script src="static/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="static/vendor/skycons/js/skycons.js"></script>
<script src="static/vendor/js/pace.min.js"></script>

<!-- Plugins JS-->
<script src="static/plugins/sparkline/js/jquery.sparkline.min.js"></script>

<!-- Theme JS -->
<script src="static/js/jquery.mmenu.min.js"></script>
<script src="static/js/core.min.js"></script>

<!-- Pages JS -->
<script src="static/js/pages/mailbox.js"></script>
<script>
    function cancel() {
        var request = new XMLHttpRequest();
        request.open("GET", "/cancel");
        request.send();
        location.reload();
    }
    function sync() {
        var request = new XMLHttpRequest();
        request.open("GET", "/syncc");
        request.send();
        location.reload();
    }

    function like(name) {
        var request = new XMLHttpRequest();
        request.open("GET", "/feedback?action=like&name=" + name);
        request.send();
        location.reload();
    }

    function dislike(name) {
        var request = new XMLHttpRequest();
        request.open("GET", "/feedback?action=dislike&name=" + name);
        request.send();
        location.reload();
    }
</script>

<!-- end: JavaScript-->

</body>

</html>
