From c95ed2007e6db90109d5b464be2d98ec48c8fad8 Mon Sep 17 00:00:00 2001
From: Elliott Clark <eclark@apache.org>
Date: Wed, 4 Nov 2015 15:38:10 -0800
Subject: [PATCH] HBASE-14765 Remove snappy profile

---
 hbase-common/pom.xml                       |  5 -----
 hbase-server/pom.xml                       | 16 ----------------
 hbase-shell/pom.xml                        | 17 -----------------
 pom.xml                                    |  1 -
 src/main/asciidoc/_chapters/developer.adoc |  6 ------
 5 files changed, 45 deletions(-)

diff --git a/hbase-common/pom.xml b/hbase-common/pom.xml
index a3a1526..390b5b4 100644
--- a/hbase-common/pom.xml
+++ b/hbase-common/pom.xml
@@ -74,11 +74,6 @@
               <target>
                 <replace file="${project.build.outputDirectory}/hbase-default.xml"
                   token="@@@VERSION@@@" value="${project.version}" />
-                <mkdir dir="${project.build.directory}/nativelib"/>
-                <exec executable="tar" dir="${project.build.directory}/nativelib" failonerror="false">
-                  <arg value="xf"/>
-                  <arg value="hadoop-snappy-nativelibs.tar"/>
-                </exec>
               </target>
             </configuration>
             <goals>
diff --git a/hbase-server/pom.xml b/hbase-server/pom.xml
index 9b4d383..94f0b72 100644
--- a/hbase-server/pom.xml
+++ b/hbase-server/pom.xml
@@ -613,22 +613,6 @@
     </profile>
     <!-- Special builds -->
     <profile>
-      <id>hadoop-snappy</id>
-      <activation>
-        <activeByDefault>false</activeByDefault>
-        <property>
-          <name>snappy</name>
-        </property>
-      </activation>
-      <dependencies>
-        <dependency>
-          <groupId>org.apache.hadoop</groupId>
-          <artifactId>hadoop-snappy</artifactId>
-          <version>${hadoop-snappy.version}</version>
-        </dependency>
-      </dependencies>
-    </profile>
-    <profile>
       <id>native</id>
       <activation>
         <activeByDefault>false</activeByDefault>
diff --git a/hbase-shell/pom.xml b/hbase-shell/pom.xml
index 0cd670a..cef3e59 100644
--- a/hbase-shell/pom.xml
+++ b/hbase-shell/pom.xml
@@ -266,23 +266,6 @@
         <surefire.skipSecondPart>true</surefire.skipSecondPart>
       </properties>
     </profile>
-    <!-- Special builds -->
-    <profile>
-      <id>hadoop-snappy</id>
-      <activation>
-        <activeByDefault>false</activeByDefault>
-        <property>
-          <name>snappy</name>
-        </property>
-      </activation>
-      <dependencies>
-        <dependency>
-          <groupId>org.apache.hadoop</groupId>
-          <artifactId>hadoop-snappy</artifactId>
-          <version>${hadoop-snappy.version}</version>
-        </dependency>
-      </dependencies>
-    </profile>
     <!-- Profiles for building against different hadoop versions -->
     <!-- There are a lot of common dependencies used here, should investigate
     if we can combine these profiles somehow -->
diff --git a/pom.xml b/pom.xml
index 7ffb33d..1616d66 100644
--- a/pom.xml
+++ b/pom.xml
@@ -1200,7 +1200,6 @@
     <thrift.version>0.9.2</thrift.version>
     <zookeeper.version>3.4.6</zookeeper.version>
     <slf4j.version>1.7.7</slf4j.version>
-    <hadoop-snappy.version>0.0.1-SNAPSHOT</hadoop-snappy.version>
     <clover.version>4.0.3</clover.version>
     <jamon-runtime.version>2.4.1</jamon-runtime.version>
     <jettison.version>1.3.3</jettison.version>
diff --git a/src/main/asciidoc/_chapters/developer.adoc b/src/main/asciidoc/_chapters/developer.adoc
index 163d47b..daeb710 100644
--- a/src/main/asciidoc/_chapters/developer.adoc
+++ b/src/main/asciidoc/_chapters/developer.adoc
@@ -419,12 +419,6 @@ Its not an error.
 It is link:http://jira.codehaus.org/browse/MSITE-286[officially
                         ugly] though.
 
-[[build.snappy]]
-==== Building in snappy compression support
-
-Pass `-Psnappy` to trigger the `hadoop-snappy` maven profile for building Google Snappy native libraries into HBase.
-See also <<snappy.compression.installation,snappy.compression.installation>>
-
 [[releasing]]
 == Releasing Apache HBase
 
-- 
2.6.1

