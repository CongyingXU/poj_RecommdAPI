Index: 0_95/session_mgt.html
===================================================================
--- 0_95/session_mgt.html	(revision 0)
+++ 0_95/session_mgt.html	(revision 0)
@@ -0,0 +1,138 @@
+<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
+<html>
+<head>
+	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
+	<title>Session Management in Axis2</title>
+</head>
+<body LANG="en" DIR="LTR">
+<h1 align=center>Session Management In Axis2</h1>
+<h2 align=center><em>-Experimental Feature</em></h2>
+<p><em>Axis2 version 0.95</em></p>
+<p><I>E-mail comments/ suggestions to: <a href="mailto:axis-dev@ws.apache.org">axis-dev@ws.apache.org</A></I>
+</p>
+<h2>Why do you need session management?</h2>
+<p>Web Services are inherentely stateless so one might ask why do you
+need session management? Sometimes carrying simple state between
+invocations is mandated by a business requirment. 
+</p>
+<p>Lets consider the following scenario. Lets assume that a financial
+institute decides on a web services middleware. Security becomes the
+number one priority for any financial institute and therefor access
+to services will have to be authenticated. If we try to authenticate
+the user for every service they use then it's going to be a security
+risk as well as a nuicense to the user as you would have to enter
+your user_id/password each time you access a different service.
+Therefore the notion of a secure session becomes important.  When the
+user logs in, the authentication service can verify the  users
+credentials and then if sucessful can place the user_id and his
+status in the session object which will be shared among other
+services during the course of the transactions performed by the user.
+This will prevent the other services from authenticating the user all
+the time and also pull up the user details based on the user_id
+present in the session. For more case studies see [3]</p>
+
+<p>The session management module was designed to accomadate business
+requirments like the above in a secure and robust manner. It provides
+the Service author an infrastrucutre level facility to  carry simple
+state across multiple inovations. All managment functions are handled
+by Axis2 eliminating the service author the overhead of managing such
+infrastrucutre at the application level. It's also flexible enough to
+customize the behaviour at Application level (global),  Service Group
+level or Service level thereby giving the application developer
+maximum flexibility in optimizing the solution based on there needs.</p>
+<p>The session management module is the <strong>basis for clustering. </strong>Where
+sessions will be replicated across a cluster of nodes to provide High
+Availability and Scalability. For more information please look at
+Axis2 Clustering (still in progress). Also there are efforts
+currently within the Web Services commnuity to standardize  the
+session mangement concept [1].</p>
+
+<h2>Session Management Architecture</h2>
+<p>Session Management is optional and loads all classes via
+reflection to minimize coupling points. It plugs into the CORE via
+two handlers namely SessionHandler and EndOfRequestHandler (see
+handler architecture [4]). It also uses a Message Receiver to pass
+the session object btw the in pipeline Message Context to the out
+pipeline message Context. Apart from that the it has no coupling
+points with the CORE.</p>
+<p>Session Management Architecture Diagram</p>
+
+
+<p><img alt="" src="images/session_architecture.jpg"/></p>
+
+
+<h2>Web Services approach to session mangement</h2>
+<p>Currently there are several ways Session Management can be achived
+within Web Services. Most notable approaches [1] are to use the
+WS-Addressing Endpoint References or WS-Context a specification
+currently proposed by OASIS [2] . Axis2 is using WS-Adressing
+Endpoint References [5] to pass the session_id between the server and
+the client. When a session is created the session_id is packed within
+the <strong>ReplyTo Enpoint Reference</strong> parameters and the client will
+blindly echo those parameters inside the <strong>To Endpoint Reference</strong>
+parameters. Therefore the session managment module is only avialable
+to clients with WS-Addressing. Also the session management is
+indepent of the underlying transport mechanism since we do not
+leverage or depend on any functionality provided by the transport.</p>
+
+
+<h2>Session Managment API</h2>
+<p>The session managment API consists of four interfaces. If you need
+to write your own implementation these are the interfaces to use.</p>
+<ul>
+	<li>org.apache.axis2.session.Session</li>
+	<li>org.apache.axis2.session.SessionManager</li>
+	<li>org.apache.axis2.session.SessionIdFactory</li>
+	<li>org.apache.axis2.session.SessionManagerFactory</li>
+</ul>
+
+<h2>How to enable Session Managment</h2>
+
+<h4>Step 1. Add the handlers in the appropriate section</h4> 
+</p>
+<p> Note : this may later be handled by making session
+managment module</p>
+<br>
+<p> This should be added in the inflow</p>
+
+<p><img alt="" src="images/session_xml1.jpg"/></p>
+
+<p> Note: Please note that it has to be the last handler in the
+phase to ensure that the Addressing handlers have passed the EPR's by
+the time it comes to SessionHandler</p>
+<br>
+
+<p> This should be added in the outflow</p>
+
+<p><img alt="" src="images/session_xml2.jpg"/></p>
+
+<p>Please note that it has to be the first handler in the phase to ensure that
+the Addressing handlers after this will use the already filled EPR
+information instead of creating a new one .</p>
+
+<h4>Step 2. Enable Session Management configuration within Axis2.xml</h4>
+<p> Note : All fields have explanatory comments above them.</p>
+
+<p><img alt="" src="images/session_xml3.jpg"/></p>
+
+
+<h4>Step 3.  Use the Session object provided within the MessageContext
+to use the session feature as you would do with an Http Session</h4>
+
+<p><img alt="" src="images/session_code1.jpg"/></p>
+
+<p><img alt="" src="images/session_code2.jpg"/></p>
+
+<h4>Resources</h4>
+<ul>
+	<li>[1]<a href="http://www.idealliance.org/proceedings/xml05/ship/54/xml2005-wssessions.HTML">The Session Concept and Web Services </a>	
+	<li>[2]<a href="http://xml.coverpages.org/WS-ContextCD-9904.pdf">WS-Context
+	specification from OASIS</a>
+	<li>[3]<a href="http://wiki.apache.org/ws/FrontPage/Axis2/SessionMgmtProposal?highlight=(Session)">Case
+	Studies from Axis2 Wiki</a>
+	<li>[4]<a href="http://ws.apache.org/axis2/0_95/Axis2ArchitectureGuide.html#extendingwithhandlers">Handler
+	Architecture (Axis2 Architecture doc)</a>
+	<li>[5]<a href="http://www.w3.org/Submission/ws-addressing/">WS-Addressing specification</a>
+</ul>
+</body>
+</html>
Index: 0_95/images/session_code1.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_code1.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Index: 0_95/images/session_code2.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_code2.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Index: 0_95/images/session_xml1.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_xml1.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Index: 0_95/images/session_architecture.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_architecture.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Index: 0_95/images/session_xml2.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_xml2.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Index: 0_95/images/session_xml3.jpg
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream

Property changes on: 0_95/images/session_xml3.jpg
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

