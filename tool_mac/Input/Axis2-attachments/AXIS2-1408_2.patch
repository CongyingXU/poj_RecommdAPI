Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/services.xml
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/services.xml	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/services.xml	(revision 0)
@@ -0,0 +1,11 @@
+<serviceGroup>
+ <service name="FaultyWebServiceService">
+  <messageReceivers>
+   <messageReceiver mep="http://www.w3.org/2004/08/wsdl/in-out" class="org.apache.axis2.jaxws.server.JAXWSMessageReceiver"/>
+  </messageReceivers>
+  <parameter locked="false" name="ServiceClass">org.apache.axis2.jaxws.sample.faults.FaultyWebServicePortTypeImpl</parameter>
+  <operation name="faultyWebService" mep="http://www.w3.org/2004/08/wsdl/in-out">
+    <actionMapping/>
+  </operation>
+ </service>
+</serviceGroup>
Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/FaultyWebService.wsdl
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/FaultyWebService.wsdl	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/META-INF/FaultyWebService.wsdl	(revision 0)
@@ -0,0 +1,80 @@
+<?xml version="1.0" encoding="UTF-8"?>
+
+
+<definitions name="FaultyWebService" targetNamespace="http://org/test/faults"
+	xmlns:tns="http://org/test/faults" xmlns="http://schemas.xmlsoap.org/wsdl/"
+	xmlns:xsd="http://www.w3.org/2001/XMLSchema"
+	xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/">
+
+
+	<types>
+		<xsd:schema xmlns="http://www.w3.org/2001/XMLSchema"
+			elementFormDefault="qualified" targetNamespace="http://org/test/faults">
+			<element name="faultyWebServiceResponse">
+				<complexType>
+					<sequence>
+						<element name="return" type="xsd:int" />
+					</sequence>
+				</complexType>
+			</element>
+
+			<element name="faultyWebService">
+				<complexType>
+					<sequence>
+						<element name="arg0" type="xsd:int" />
+					</sequence>
+				</complexType>
+			</element>
+
+			<element name="FaultyWebServiceFault">
+				<complexType>
+					<sequence>
+						<element name="faultInfo" type="xsd:string" />
+						<element name="message" type="xsd:string" />
+					</sequence>
+				</complexType>
+			</element>
+
+		</xsd:schema>
+	</types>
+
+	<message name="faultyWebService">
+		<part name="parameters" element="tns:faultyWebService" />
+	</message>
+	<message name="faultyWebServiceResponse">
+		<part name="result" element="tns:faultyWebServiceResponse" />
+	</message>
+	<message name="faultyWebServiceFault">
+		<part name="FaultyWebServiceFault" element="tns:FaultyWebServiceFault" />
+	</message>
+
+	<portType name="FaultyWebServicePortType">
+		<operation name="faultyWebService">
+			<input message="tns:faultyWebService" name="add" />
+			<output message="tns:faultyWebServiceResponse" name="faultyWSResponse" />
+			<fault name="faultyWebServiceFault" message="tns:faultyWebServiceFault" />
+		</operation>
+	</portType>
+	<binding name="FaultyWebServiceBinding" type="tns:FaultyWebServicePortType">
+		<soap:binding transport="http://schemas.xmlsoap.org/soap/http"
+			style="document" />
+		<operation name="faultyWebService">
+			<soap:operation soapAction="" />
+			<input>
+				<soap:body use="literal" />
+			</input>
+			<output>
+				<soap:body use="literal" />
+			</output>
+			<fault name="faultyWebServiceFault">
+				<soap:fault name="faultyWebServiceFault" use="literal" />
+			</fault>
+		</operation>
+	</binding>
+	<service name="FaultyWebServiceService">
+		<port name="FaultyWebServicePort" binding="tns:FaultyWebServiceBinding">
+			<soap:address
+				location="http://localhost:9080/FaultyWebService/FaultyWebServiceImplService" />
+		</port>
+	</service>
+</definitions>
Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceService.java
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceService.java	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceService.java	(revision 0)
@@ -0,0 +1,61 @@
+
+package org.apache.axis2.jaxws.sample.faults;
+
+import java.io.File;
+import java.net.MalformedURLException;
+import java.net.URL;
+import javax.xml.namespace.QName;
+import javax.xml.ws.Service;
+import javax.xml.ws.WebEndpoint;
+import javax.xml.ws.WebServiceClient;
+
+
+/**
+ * This class was generated by the JAXWS SI.
+ * JAX-WS RI 2.0_01-b15-fcs
+ * Generated source version: 2.0
+ * 
+ */
+@WebServiceClient(name = "FaultyWebServiceService", targetNamespace = "http://org/test/faults", wsdlLocation = "FaultyWebService1.wsdl")
+public class FaultyWebServiceService
+    extends Service
+{
+
+    private final static URL FAULTYWEBSERVICESERVICE_WSDL_LOCATION;
+    private static String wsdlLocation="/test/org/apache/axis2/jaxws/sample/faults/META-INF/FaultyWebService.wsdl";
+    static {
+        URL url = null;
+        try {
+        	try{
+	        	String baseDir = new File(".").getCanonicalPath();
+	        	wsdlLocation = new File(baseDir + wsdlLocation).getAbsolutePath();
+        	}catch(Exception e){
+        		e.printStackTrace();
+        	}
+        	File file = new File(wsdlLocation);
+        	url = file.toURL();
+        } catch (MalformedURLException e) {
+            e.printStackTrace();
+        }
+        FAULTYWEBSERVICESERVICE_WSDL_LOCATION = url;
+    }
+
+    public FaultyWebServiceService(URL wsdlLocation, QName serviceName) {
+        super(wsdlLocation, serviceName);
+    }
+
+    public FaultyWebServiceService() {
+        super(FAULTYWEBSERVICESERVICE_WSDL_LOCATION, new QName("http://org/test/faults", "FaultyWebServiceService"));
+    }
+
+    /**
+     * 
+     * @return
+     *     returns FaultyWebServicePortType
+     */
+    @WebEndpoint(name = "FaultyWebServicePort")
+    public FaultyWebServicePortType getFaultyWebServicePort() {
+        return (FaultyWebServicePortType)super.getPort(new QName("http://org/test/faults", "FaultyWebServicePort"), FaultyWebServicePortType.class);
+    }
+
+}
Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortType.java
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortType.java	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortType.java	(revision 0)
@@ -0,0 +1,43 @@
+
+package org.apache.axis2.jaxws.sample.faults;
+
+import javax.jws.Oneway;
+import javax.jws.WebMethod;
+import javax.jws.WebParam;
+import javax.jws.WebResult;
+import javax.jws.WebService;
+import javax.xml.ws.RequestWrapper;
+import javax.xml.ws.ResponseWrapper;
+
+
+
+
+/**
+ * This class was generated by the JAXWS SI.
+ * JAX-WS RI 2.0_01-b15-fcs
+ * Generated source version: 2.0
+ * 
+ */
+@WebService(name = "FaultyWebServicePortType", targetNamespace = "http://org/test/faults")
+public interface FaultyWebServicePortType {
+
+
+    /**
+     * 
+     * @param arg1
+     * @param arg0
+     * @return
+     *     returns int
+     * @throws FaultyWebServiceFault_Exception
+     */
+    @WebMethod
+    @WebResult(targetNamespace = "http://org/test/faults")
+    @RequestWrapper(localName = "faultyWebService", targetNamespace = "http://org/test/faults", className = "org.test.faults.FaultyWebService")
+    @ResponseWrapper(localName = "faultyWebServiceResponse", targetNamespace = "http://org/test/faults", className = "org.test.faults.FaultyWebServiceResponse")
+    public int faultyWebService(
+        @WebParam(name = "arg0", targetNamespace = "http://org/test/faults")
+        int arg0)
+        throws FaultyWebServiceFault_Exception
+    ;
+
+}
Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortTypeImpl.java
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortTypeImpl.java	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServicePortTypeImpl.java	(revision 0)
@@ -0,0 +1,32 @@
+/**
+ * 
+ */
+package org.apache.axis2.jaxws.sample.faults;
+
+import javax.jws.WebService;
+
+import org.test.faults.FaultyWebServiceFault;
+
+
+@WebService(endpointInterface="org.apache.axis2.jaxws.sample.faults.FaultyWebServicePortType")
+public class FaultyWebServicePortTypeImpl implements FaultyWebServicePortType {
+
+	/* (non-Javadoc)
+	 * @see org.apache.axis2.jaxws.sample.faults.FaultyWebServicePortType#faultyWebService(int)
+	 */
+	public int faultyWebService(int arg0) throws FaultyWebServiceFault_Exception {
+		
+		FaultyWebServiceFault bean = new FaultyWebServiceFault();
+		bean.setFaultInfo("bean custom fault info");
+		bean.setMessage("bean custom message");
+		
+		throw new FaultyWebServiceFault_Exception("custom exception", bean);
+//		throw new RuntimeException("runtime exception");
+		
+		// TODO Auto-generated method stub
+		//return arg0+3;
+
+	}
+
+
+}
Index: C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceFault_Exception.java
===================================================================
--- C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceFault_Exception.java	(revision 0)
+++ C:/eclipse/workspace_axis2/GM_20061017/modules/jaxws/test/org/apache/axis2/jaxws/sample/faults/FaultyWebServiceFault_Exception.java	(revision 0)
@@ -0,0 +1,58 @@
+
+package org.apache.axis2.jaxws.sample.faults;
+
+import javax.jws.WebService;
+import javax.xml.ws.WebFault;
+import javax.xml.ws.WebServiceClient;
+
+import org.test.faults.FaultyWebServiceFault;
+
+
+/**
+ * This class was generated by the JAXWS SI.
+ * JAX-WS RI 2.0_01-b15-fcs
+ * Generated source version: 2.0
+ * 
+ */
+@WebFault(faultBean="org.test.faults.FaultyWebServiceFault", name = "FaultyWebServiceFault", targetNamespace = "http://org/test/faults")
+public class FaultyWebServiceFault_Exception
+    extends Exception
+{
+
+    /**
+     * Java type that goes as soapenv:Fault detail element.
+     * 
+     */
+    private FaultyWebServiceFault faultInfo;
+    
+    /**
+     * 
+     * @param faultInfo
+     * @param message
+     */
+    public FaultyWebServiceFault_Exception(String message, FaultyWebServiceFault faultInfo) {
+        super(message);
+        this.faultInfo = faultInfo;
+    }
+
+    /**
+     * 
+     * @param faultInfo
+     * @param message
+     * @param cause
+     */
+    public FaultyWebServiceFault_Exception(String message, FaultyWebServiceFault faultInfo, Throwable cause) {
+        super(message, cause);
+        this.faultInfo = faultInfo;
+    }
+
+    /**
+     * 
+     * @return
+     *     returns fault bean: duke.org.FaultyWebServiceFault
+     */
+    public FaultyWebServiceFault getFaultInfo() {
+        return faultInfo;
+    }
+
+}
