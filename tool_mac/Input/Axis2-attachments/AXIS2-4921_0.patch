<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions targetNamespace="http://xfire.codehaus.org/schemas/management/2006/03"
                  xmlns:tns="http://xfire.codehaus.org/schemas/management/2006/03"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>

    <xsd:schema elementFormDefault="qualified" targetNamespace="http://xfire.codehaus.org/schemas/management/2006/03">

      <!-- REQUEST ELEMENTS -->

      <xsd:element name="clearCacheRequest">
        <xsd:annotation>
          <xsd:documentation xml:lang="en">
            This request is sent when requesting that the cache be cleared.
          </xsd:documentation>
        </xsd:annotation>
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="targetId" type="xsd:string">
              <xsd:annotation>
                <xsd:documentation xml:lang="en">
                  A unique identifier on the DMR or group of DMRs that should receive this clear cache request.
                  The content of this parameter depends on the value of the targetType parameter. For example, if the
                  targetType parameter indicates that this request is going to a single DMR, the targetId will contain
                  the MAC address of that DMR. If the targetType indicates that this request is going to a zone, the
                  targetId will contain the zoneId for that zone.
                </xsd:documentation>
              </xsd:annotation>
            </xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>

      <xsd:element name="sendMessageRequest">
        <xsd:annotation>
          <xsd:documentation xml:lang="en">
            This request is sent when requesting that a message be sent out.
          </xsd:documentation>
        </xsd:annotation>
        <xsd:complexType>
          <xsd:sequence>
            <xsd:element name="senderId" type="xsd:string" minOccurs="0" maxOccurs="1">
              <xsd:annotation>
                <xsd:documentation xml:lang="en">
                  An optional parameter indicating the ID of the sender of the message.
                </xsd:documentation>
              </xsd:annotation>
            </xsd:element>
            <xsd:element name="messageType" type="tns:messageType">
              <xsd:annotation>
                <xsd:documentation xml:lang="en">
                  The type of message to send.
                </xsd:documentation>
              </xsd:annotation>
            </xsd:element>
            <xsd:element name="subject" type="xsd:string">
              <xsd:annotation>
                <xsd:documentation xml:lang="en">
                  The subject of the message.
                </xsd:documentation>
              </xsd:annotation>
            </xsd:element>
            <xsd:element name="message" type="xsd:string">
              <xsd:annotation>
                <xsd:documentation xml:lang="en">
                  The message content.
                </xsd:documentation>
              </xsd:annotation>
            </xsd:element>
          </xsd:sequence>
        </xsd:complexType>
      </xsd:element>

      <!-- TYPE DEFINITIONS -->

      <xsd:simpleType name="messageType">
        <xsd:annotation>
          <xsd:documentation xml:lang="en">
            This type represents the possible message types that can be sent to a DMR.
          </xsd:documentation>
        </xsd:annotation>
        <xsd:restriction base="xsd:string">
          <xsd:enumeration value="EMAIL">
            <xsd:annotation>
              <xsd:documentation xml:lang="en">
                An email message will display a notification (and further information) to the user of an incoming email.
              </xsd:documentation>
            </xsd:annotation>
          </xsd:enumeration>
          <xsd:enumeration value="GENERAL_MESSAGE">
            <xsd:annotation>
              <xsd:documentation xml:lang="en">
                A general message will display a simple message to the user.
              </xsd:documentation>
            </xsd:annotation>
          </xsd:enumeration>
        </xsd:restriction>
      </xsd:simpleType>

    </xsd:schema>

  </wsdl:types>

  <wsdl:message name="sendMessageRequest">
    <wsdl:part element="tns:sendMessageRequest" name="request"/>
  </wsdl:message>
  <wsdl:message name="sendMessageResponse"/>

  <wsdl:message name="clearCacheRequest">
    <wsdl:part element="tns:clearCacheRequest" name="request"/>
  </wsdl:message>
  <wsdl:message name="clearCacheResponse"/>

  <wsdl:portType name="Management">

    <wsdl:documentation>PortType documentation would go here</wsdl:documentation>

    <wsdl:operation name="clearCache">
      <wsdl:documentation>Clears the client-side cache</wsdl:documentation>
      <wsdl:input message="tns:clearCacheRequest" name="clearCacheRequest"/>
      <wsdl:output message="tns:clearCacheResponse" name="clearCacheResponse"/>
    </wsdl:operation>

    <wsdl:operation name="sendMessage">
      <wsdl:documentation>Sends a message to a specified user</wsdl:documentation>
      <wsdl:input message="tns:sendMessageRequest" name="sendMessageRequest">
        <wsdl:documentation>The information needed to send the message, including who to send it to, the subject and message body</wsdl:documentation>
      </wsdl:input>
      <wsdl:output message="tns:sendMessageResponse" name="sendMessageResponse">
        <wsdl:documentation>Always returns an empty response</wsdl:documentation>
      </wsdl:output>
    </wsdl:operation>

  </wsdl:portType>

  <wsdl:binding name="ManagementSoapBinding" type="tns:Management">

    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>

    <wsdl:operation name="clearCache">
      <soap:operation soapAction="#clearCache"/>
      <wsdl:input name="clearCacheRequest">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>

    <wsdl:operation name="sendMessage">
      <soap:operation soapAction="#sendMessage"/>
      <wsdl:input name="sendMessageRequest">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>

  </wsdl:binding>

  <wsdl:service name="Management">
    <wsdl:port binding="tns:ManagementSoapBinding" name="Management">
      <soap:address location="http://xfire.codehaus.org/ws/Management"/>
    </wsdl:port>
  </wsdl:service>

</wsdl:definitions>
