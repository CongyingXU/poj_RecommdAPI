From 22c4368f7469c745c867ce22b089675ea153c497 Mon Sep 17 00:00:00 2001
From: Guanghao Zhang <zghao@apache.org>
Date: Tue, 20 Dec 2016 21:59:26 +0800
Subject: [PATCH] HBASE-17348 Remove the unused hbase.replication from
 javadoc/comment completely

---
 .../org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java  | 4 +---
 .../apache/hadoop/hbase/shaded/protobuf/generated/AdminProtos.java    | 4 ++--
 hbase-protocol-shaded/src/main/protobuf/Admin.proto                   | 2 +-
 .../java/org/apache/hadoop/hbase/protobuf/generated/AdminProtos.java  | 4 ++--
 hbase-protocol/src/main/protobuf/Admin.proto                          | 2 +-
 hbase-shell/src/main/ruby/shell.rb                                    | 1 -
 src/main/asciidoc/_chapters/ops_mgt.adoc                              | 1 -
 7 files changed, 7 insertions(+), 11 deletions(-)

diff --git a/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java b/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
index 12bdb81..2d6c37b 100644
--- a/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
+++ b/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java
@@ -62,9 +62,7 @@ import org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher;
 /**
  * <p>
  * This class provides the administrative interface to HBase cluster
- * replication. In order to use it, the cluster and the client using
- * ReplicationAdmin must be configured with <code>hbase.replication</code>
- * set to true.
+ * replication.
  * </p>
  * <p>
  * Adding a new peer results in creating new outbound connections from every
diff --git a/hbase-protocol-shaded/src/main/java/org/apache/hadoop/hbase/shaded/protobuf/generated/AdminProtos.java b/hbase-protocol-shaded/src/main/java/org/apache/hadoop/hbase/shaded/protobuf/generated/AdminProtos.java
index 576c739..654d152 100644
--- a/hbase-protocol-shaded/src/main/java/org/apache/hadoop/hbase/shaded/protobuf/generated/AdminProtos.java
+++ b/hbase-protocol-shaded/src/main/java/org/apache/hadoop/hbase/shaded/protobuf/generated/AdminProtos.java
@@ -18964,7 +18964,7 @@ public final class AdminProtos {
    **
    * Replicates the given entries. The guarantee is that the given entries
    * will be durable on the slave cluster if this method returns without
-   * any exception.  hbase.replication has to be set to true for this to work.
+   * any exception.
    * </pre>
    *
    * Protobuf type {@code hbase.pb.ReplicateWALEntryRequest}
@@ -19427,7 +19427,7 @@ public final class AdminProtos {
      **
      * Replicates the given entries. The guarantee is that the given entries
      * will be durable on the slave cluster if this method returns without
-     * any exception.  hbase.replication has to be set to true for this to work.
+     * any exception.
      * </pre>
      *
      * Protobuf type {@code hbase.pb.ReplicateWALEntryRequest}
diff --git a/hbase-protocol-shaded/src/main/protobuf/Admin.proto b/hbase-protocol-shaded/src/main/protobuf/Admin.proto
index 36221c24..e8cf10c 100644
--- a/hbase-protocol-shaded/src/main/protobuf/Admin.proto
+++ b/hbase-protocol-shaded/src/main/protobuf/Admin.proto
@@ -219,7 +219,7 @@ message WALEntry {
 /**
  * Replicates the given entries. The guarantee is that the given entries
  * will be durable on the slave cluster if this method returns without
- * any exception.  hbase.replication has to be set to true for this to work.
+ * any exception.
  */
 message ReplicateWALEntryRequest {
   repeated WALEntry entry = 1;
diff --git a/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AdminProtos.java b/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AdminProtos.java
index 9deba2e..c8f8be9 100644
--- a/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AdminProtos.java
+++ b/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AdminProtos.java
@@ -16949,7 +16949,7 @@ public final class AdminProtos {
    **
    * Replicates the given entries. The guarantee is that the given entries
    * will be durable on the slave cluster if this method returns without
-   * any exception.  hbase.replication has to be set to true for this to work.
+   * any exception.
    * </pre>
    */
   public static final class ReplicateWALEntryRequest extends
@@ -17439,7 +17439,7 @@ public final class AdminProtos {
      **
      * Replicates the given entries. The guarantee is that the given entries
      * will be durable on the slave cluster if this method returns without
-     * any exception.  hbase.replication has to be set to true for this to work.
+     * any exception.
      * </pre>
      */
     public static final class Builder extends
diff --git a/hbase-protocol/src/main/protobuf/Admin.proto b/hbase-protocol/src/main/protobuf/Admin.proto
index e905340..6096966 100644
--- a/hbase-protocol/src/main/protobuf/Admin.proto
+++ b/hbase-protocol/src/main/protobuf/Admin.proto
@@ -206,7 +206,7 @@ message WALEntry {
 /**
  * Replicates the given entries. The guarantee is that the given entries
  * will be durable on the slave cluster if this method returns without
- * any exception.  hbase.replication has to be set to true for this to work.
+ * any exception.
  */
 message ReplicateWALEntryRequest {
   repeated WALEntry entry = 1;
diff --git a/hbase-shell/src/main/ruby/shell.rb b/hbase-shell/src/main/ruby/shell.rb
index 4b111f1..2c9ab72 100644
--- a/hbase-shell/src/main/ruby/shell.rb
+++ b/hbase-shell/src/main/ruby/shell.rb
@@ -363,7 +363,6 @@ Shell.load_command_group(
 Shell.load_command_group(
   'replication',
   :full_name => 'CLUSTER REPLICATION TOOLS',
-  :comment => "In order to use these tools, hbase.replication must be true.",
   :commands => %w[
     add_peer
     remove_peer
diff --git a/src/main/asciidoc/_chapters/ops_mgt.adoc b/src/main/asciidoc/_chapters/ops_mgt.adoc
index a580bf8..b156ee5 100644
--- a/src/main/asciidoc/_chapters/ops_mgt.adoc
+++ b/src/main/asciidoc/_chapters/ops_mgt.adoc
@@ -1358,7 +1358,6 @@ Instead of SQL statements, entire WALEdits (consisting of multiple cell inserts
   Create tables with the same names and column families on both the source and destination clusters, so that the destination cluster knows where to store data it will receive.
 . All hosts in the source and destination clusters should be reachable to each other.
 . If both clusters use the same ZooKeeper cluster, you must use a different `zookeeper.znode.parent`, because they cannot write in the same folder.
-. Check to be sure that replication has not been disabled. `hbase.replication` defaults to `true`.
 . On the source cluster, in HBase Shell, add the destination cluster as a peer, using the `add_peer` command.
 . On the source cluster, in HBase Shell, enable the table replication, using the `enable_table_replication` command.
 . Check the logs to see if replication is taking place. If so, you will see messages like the following, coming from the ReplicationSource.
-- 
1.9.1

