From f2df0540dc0ba1f1c197cb36de7fabd78d716ecb Mon Sep 17 00:00:00 2001
From: John Leach <jleach@splicemachine.com>
Date: Wed, 30 Nov 2016 13:15:22 -0600
Subject: [PATCH] HBASE-17216 Fields that can safetly be made static

---
 .../java/org/apache/hadoop/hbase/client/AsyncProcess.java    |  2 +-
 .../hadoop/hbase/io/encoding/FastDiffDeltaEncoder.java       | 12 ++++++------
 .../hbase/io/asyncfs/FanOutOneBlockAsyncDFSOutput.java       |  2 +-
 .../org/apache/hadoop/hbase/regionserver/wal/WALEdit.java    |  2 +-
 .../hbase/replication/regionserver/HFileReplicator.java      |  2 +-
 5 files changed, 10 insertions(+), 10 deletions(-)

diff --git a/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java b/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java
index e653c80..f75d0f8 100644
--- a/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java
+++ b/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java
@@ -118,7 +118,7 @@ class AsyncProcess {
   private static final String THRESHOLD_TO_LOG_UNDONE_TASK_DETAILS =
       "hbase.client.threshold.log.details";
   private static final int DEFAULT_THRESHOLD_TO_LOG_UNDONE_TASK_DETAILS = 10;
-  private final int THRESHOLD_TO_LOG_REGION_DETAILS = 2;
+  private static final int THRESHOLD_TO_LOG_REGION_DETAILS = 2;
 
   /**
    * The maximum size of single RegionServer.
diff --git a/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/FastDiffDeltaEncoder.java b/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/FastDiffDeltaEncoder.java
index 85b33f8..5d7a379 100644
--- a/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/FastDiffDeltaEncoder.java
+++ b/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/FastDiffDeltaEncoder.java
@@ -59,12 +59,12 @@ import org.apache.hadoop.hbase.util.ObjectIntPair;
  */
 @InterfaceAudience.Private
 public class FastDiffDeltaEncoder extends BufferedDataBlockEncoder {
-  final int MASK_TIMESTAMP_LENGTH = (1 << 0) | (1 << 1) | (1 << 2);
-  final int SHIFT_TIMESTAMP_LENGTH = 0;
-  final int FLAG_SAME_KEY_LENGTH = 1 << 3;
-  final int FLAG_SAME_VALUE_LENGTH = 1 << 4;
-  final int FLAG_SAME_TYPE = 1 << 5;
-  final int FLAG_SAME_VALUE = 1 << 6;
+  static final int MASK_TIMESTAMP_LENGTH = (1 << 0) | (1 << 1) | (1 << 2);
+  static final int SHIFT_TIMESTAMP_LENGTH = 0;
+  static final int FLAG_SAME_KEY_LENGTH = 1 << 3;
+  static final int FLAG_SAME_VALUE_LENGTH = 1 << 4;
+  static final int FLAG_SAME_TYPE = 1 << 5;
+  static final int FLAG_SAME_VALUE = 1 << 6;
 
   private static class FastDiffCompressionState extends CompressionState {
     byte[] timestamp = new byte[KeyValue.TIMESTAMP_SIZE];
diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/io/asyncfs/FanOutOneBlockAsyncDFSOutput.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/io/asyncfs/FanOutOneBlockAsyncDFSOutput.java
index 1ac1920..a6ee6da 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/io/asyncfs/FanOutOneBlockAsyncDFSOutput.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/io/asyncfs/FanOutOneBlockAsyncDFSOutput.java
@@ -170,7 +170,7 @@ public class FanOutOneBlockAsyncDFSOutput implements AsyncFSOutput {
   private int capacity = 4 * 1024;
 
   // LIMIT is 128MB
-  private final int LIMIT = 128 * 1024 * 1024;
+  private static final int LIMIT = 128 * 1024 * 1024;
 
   private enum State {
     STREAMING, CLOSING, BROKEN, CLOSED
diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEdit.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEdit.java
index 75c1c3e..f79fa01 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEdit.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEdit.java
@@ -100,7 +100,7 @@ public class WALEdit implements Writable, HeapSize {
   @VisibleForTesting
   public static final byte [] BULK_LOAD = Bytes.toBytes("HBASE::BULK_LOAD");
 
-  private final int VERSION_2 = -1;
+  private static final int VERSION_2 = -1;
   private final boolean isReplay;
 
   private ArrayList<Cell> cells = null;
diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/HFileReplicator.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/HFileReplicator.java
index cc02fb6..9eda7e4 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/HFileReplicator.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/HFileReplicator.java
@@ -71,7 +71,7 @@ public class HFileReplicator {
   public static final int REPLICATION_BULKLOAD_COPY_HFILES_PERTHREAD_DEFAULT = 10;
 
   private static final Log LOG = LogFactory.getLog(HFileReplicator.class);
-  private final String UNDERSCORE = "_";
+  private static final String UNDERSCORE = "_";
   private final static FsPermission PERM_ALL_ACCESS = FsPermission.valueOf("-rwxrwxrwx");
 
   private Configuration sourceClusterConf;
-- 
2.9.3 (Apple Git-75)

