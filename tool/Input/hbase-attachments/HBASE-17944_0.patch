From 319f1846b13dd1396cc6ff0782f9f8c367e1b836 Mon Sep 17 00:00:00 2001
From: Colm O hEigeartaigh <coheigea@apache.org>
Date: Fri, 21 Apr 2017 09:16:01 +0100
Subject: [PATCH 1/1] HBASE-17944 - ClassSize fails with Java 9

---
 .../main/java/org/apache/hadoop/hbase/util/ClassSize.java  | 14 --------------
 1 file changed, 14 deletions(-)

diff --git a/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java b/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java
index e1690c0..e064cc0 100644
--- a/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java
+++ b/hbase-common/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java
@@ -127,20 +127,6 @@ public class ClassSize {
 
   public static final int STORE_SERVICES;
 
-  /* Are we running on jdk7? */
-  private static final boolean JDK7;
-  static {
-    final String version = System.getProperty("java.version");
-    // Verify String looks like this: 1.6.0_29
-    if (version == null || !version.matches("\\d\\.\\d\\..*")) {
-      throw new RuntimeException("Unexpected version format: " + version);
-    }
-    // Convert char to int
-    int major = (int)(version.charAt(0) - '0');
-    int minor = (int)(version.charAt(2) - '0');
-    JDK7 = major == 1 && minor == 7;
-  }
-
   /**
    * MemoryLayout abstracts details about the JVM object layout. Default implementation is used in
    * case Unsafe is not available.
-- 
2.9.3

