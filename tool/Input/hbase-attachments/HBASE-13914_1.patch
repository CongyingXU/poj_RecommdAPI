From cee6f9b1d7019f8eae0f990ab1ab5666f497469b Mon Sep 17 00:00:00 2001
From: Nick Dimiduk <ndimiduk@apache.org>
Date: Mon, 17 Aug 2015 11:25:24 -0700
Subject: [PATCH] HBASE-13914 Minor improvements to
 dev-support/publish_hbase_website.sh

---
 dev-support/publish_hbase_website.sh | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/dev-support/publish_hbase_website.sh b/dev-support/publish_hbase_website.sh
index d58fb61..2a43a1f 100755
--- a/dev-support/publish_hbase_website.sh
+++ b/dev-support/publish_hbase_website.sh
@@ -81,6 +81,8 @@ if [ ! -d $GIT_DIR -o ! -d $SVN_DIR ]; then
   exit 1
 fi
 
+export MAVEN_OPTS=${MAVEN_OPTS:-"-Xmx3g -XX:MaxPermSize=256m"}
+
 cd $GIT_DIR
 
 # Get the latest
@@ -93,7 +95,7 @@ if [ $INTERACTIVE ]; then
     read -p "Build the site? (y/n)" yn
     case $yn in
         [Yy]* ) 
-          mvn clean package javadoc:aggregate post-site site:stage -DskipTests
+          mvn clean package javadoc:aggregate post-site site:stage -DskipTests -Dcheckstyle.skip
           status=$?
           if [ $status -ne 0 ]; then
             echo "The website does not build. Aborting."
@@ -106,7 +108,7 @@ if [ $INTERACTIVE ]; then
     esac
 else
   echo "Building the site in auto mode."
-  mvn clean package javadoc:aggregate post-site site:stage -DskipTests
+  mvn clean package javadoc:aggregate post-site site:stage -DskipTests -Dcheckstyle.skip
   status=$?
   if [ $status != 0 ]; then
     echo "The website does not build. Aborting."
-- 
1.9.5 (Apple Git-50.3)

