Index: README.txt
===================================================================
--- README.txt	(Revision 541503)
+++ README.txt	(Arbeitskopie)
@@ -14,12 +14,12 @@
 
 Running the Sample:
 ===================
-1. Use ant generate.service or just ant command in the Axis2_HOME/sample/mtom/ to build the service.
+1. Use ant generate.service or just the ant command alone in the Axis2_HOME/sample/mtom/ to build the service.
 2. Generated service gets copied to the Axis2_HOME/repository/services automatically.
 3. Run the Axis2_HOME/bin/axis2server.{sh.bat} to start the standalone axis2 server. (Alternatively
-  you can drop the sample to the services directory of a Axis2 server running in a servlet container)
-4. Use ant run.client -Dfile "file to be send" -Ddest "destination file name" to build and run the
- client.
+  you can drop the sample into the services directory of a Axis2 server running in a servlet container)
+4. Use ant generate.client to build the client.
+5. Use ant run.client -Dfile "file to be sent" -Ddest "destination file name" to run the client.
 
 
 Help
Index: build.xml
===================================================================
--- build.xml	(Revision 541503)
+++ build.xml	(Arbeitskopie)
@@ -51,6 +51,7 @@
 		<antcall target="jar.server"/>
 		<copy file="${service.dir}/sample-mtom.aar" tofile="../../repository/services/sample-mtom.aar" overwrite="true"/>
 	</target>
+
 	<target name="check-parameters">
 		<condition property="parameters.set">
 			<and>
@@ -58,49 +59,52 @@
 				<isset property="file" />
 			</and>
 		</condition>
-		<!-- This is a hack to get a if-else working in ant. Some much more "ANTy" person is welcome to improve this -->
+		<!-- This is a hack to get an if-else working in ant. Some much more "ANTy" person is welcome to improve this -->
 		<antcall target="print-usage" />
 	</target>
 
 	<target name="print-usage" unless="parameters.set">
-		<echo message="ant -Dfile &lt;file to be transfered&gt;  -Ddest &lt;name of the destination file&gt;" />
+		<echo message="ant -Dfile &lt;file to be transferred&gt;  -Ddest &lt;name of the destination file&gt;" />
 	</target>
 
-	<!-- Run Client -->
-	<target name="run.client" depends="check-parameters" if="parameters.set">
-		<java classname="org.apache.axis2.wsdl.WSDL2Java">
-			<arg value="-uri" />
-			<arg value="resources/MTOMSample.wsdl" />
-			<arg value="-p" />
-			<arg value="sample.mtom.service" />
-			<arg value="-o" />
-			<arg value="${client.dir}" />
-			<classpath refid="class.path" />
-		</java>
-
-		<copy file="${client.path}" tofile="${client.dir}/${client.path}" overwrite="true" />
-
-		<mkdir dir="${client.classes.dir}" />
-		<!-- Compile client -->
-		<javac srcdir="${client.dir}/src" destdir="${client.classes.dir}">
-			<classpath refid="class.path" />
-		</javac>
-
-		<!-- Run client -->
-		<!-- Accept two arguments from the command line, Also use the class.path set earlier -->
-		<java classname="sample.mtom.client.Client" fork="true">
-			<arg value="-file" />
-			<arg value="${file}" />
-			<arg value="-dest" />
-			<arg value="${dest}" />
-			<classpath>
-				<fileset dir="../../lib">
-					<include name="**/*.jar" />
-				</fileset>
-				<dirset dir="${client.classes.dir}" />
-			</classpath>
-		</java>
-	</target>
+	<!-- Generate Client -->
+	<target name="generate.client">
+		<java classname="org.apache.axis2.wsdl.WSDL2Java">
+			<arg value="-uri" />
+			<arg value="resources/MTOMSample.wsdl" />
+			<arg value="-p" />
+			<arg value="sample.mtom.service" />
+			<arg value="-o" />
+			<arg value="${client.dir}" />
+			<classpath refid="class.path" />
+		</java>
+	
+		<copy file="${client.path}" tofile="${client.dir}/${client.path}" overwrite="true" />
+	
+		<mkdir dir="${client.classes.dir}" />
+		<!-- Compile client -->
+		<javac srcdir="${client.dir}/src" destdir="${client.classes.dir}">
+			<classpath refid="class.path" />
+		</javac>
+    </target>	
+	
+	<!-- Run Client -->
+	<target name="run.client" depends="check-parameters" if="parameters.set">
+		<!-- Accept two arguments from the command line, Also use the class.path set earlier -->
+		<java classname="sample.mtom.client.Client" fork="true">
+			<arg value="-file" />
+			<arg value="${file}" />
+			<arg value="-dest" />
+			<arg value="${dest}" />
+			<classpath>
+				<fileset dir="../../lib">
+					<include name="**/*.jar" />
+				</fileset>
+				<dirset dir="${client.classes.dir}" />
+			</classpath>
+		</java>
+	</target>
+
 	<target  name="jar.server">
 		<mkdir dir="${service.dir}/classes" />
 		<javac debug="on" memoryMaximumSize="256m" memoryInitialSize="256m" fork="true" 		destdir="${service.dir}/classes" srcdir="${service.dir}/src">
@@ -117,8 +121,10 @@
 		<jar destfile="${service.dir}/sample-mtom.aar">
 		<fileset excludes="**/Test.class" dir="${service.dir}/classes"/>
 		</jar>
-	</target>
+	</target>
+
 	<target name="clean">
 		<delete dir="build" />
 	</target>
+
 </project>
