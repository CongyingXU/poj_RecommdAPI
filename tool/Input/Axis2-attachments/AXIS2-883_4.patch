import org.apache.axis2.AxisFault;
import org.apache.axis2.context.ConfigurationContext;
import org.apache.axis2.context.ConfigurationContextFactory;
import org.apache.axis2.description.AxisService;
import org.apache.axis2.rpc.receivers.RPCMessageReceiver;
import org.apache.axis2.transport.http.SimpleHTTPServer;
import org.apache.axis2.description.WSMToAxisServiceBuilder;

import javax.jws.WebService;
import javax.jws.WebMethod;

/**
 * A POJO annotated as specified by JSR 181
 */
@WebService
public class SampleAnnotatedPOJO {

	public SampleAnnotatedPOJO() {

	}

	@WebMethod
	public String greet(String name) {
		return "Hello " + name;
	}

	public String greetInternal(String name) {
		return "Hello " + name;
	}

	public static void main(String[] args) {
		ConfigurationContext context = null;
		try {
			context = ConfigurationContextFactory
					.createConfigurationContextFromFileSystem(null, null);
			WSMToAxisServiceBuilder serviceBuilder = new WSMToAxisServiceBuilder();
			AxisService service = serviceBuilder.populateService();
			context.getAxisConfiguration().addService(service);
		} catch (AxisFault e) {
			System.out.println("Error building service");
			e.printStackTrace();
		}
		try {
			SimpleHTTPServer server = new SimpleHTTPServer(context, 10080);
			server.start();
		} catch (AxisFault e) {
			System.out.println("Error starting Simple HTTP Server");
			e.printStackTrace();
		}
	}

}
